Return-Path: <linux-input+bounces-8825-lists+linux-input=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-input@lfdr.de
Delivered-To: lists+linux-input@lfdr.de
Received: from ny.mirrors.kernel.org (ny.mirrors.kernel.org [147.75.199.223])
	by mail.lfdr.de (Postfix) with ESMTPS id A509A9FF0FC
	for <lists+linux-input@lfdr.de>; Tue, 31 Dec 2024 18:35:15 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ny.mirrors.kernel.org (Postfix) with ESMTPS id 5F42A1620A2
	for <lists+linux-input@lfdr.de>; Tue, 31 Dec 2024 17:35:13 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id AEDE11A8419;
	Tue, 31 Dec 2024 17:35:11 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=live.com header.i=@live.com header.b="cxe79DZI"
X-Original-To: linux-input@vger.kernel.org
Received: from PNYPR01CU001.outbound.protection.outlook.com (mail-centralindiaazolkn19010007.outbound.protection.outlook.com [52.103.68.7])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 4873B42A8C;
	Tue, 31 Dec 2024 17:35:08 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=52.103.68.7
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1735666511; cv=fail; b=pcSuSPebJpQ3IOFVs3i3YCrnVwBMI9XWAnieUSRND9IUxOMHHUyMY2yR/gSGLTMjWJS+7MNhE+fPk5xc7+QQkJE898ncZSzqLY7tkiGy+WsY9qqQhjZEnNOpG5l0C6dT9t2gLwmjtnQNqMpUzSNvzwIzWt6qr6at1QuCw2Q3qQo=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1735666511; c=relaxed/simple;
	bh=nQ/DwVgFVO3Vllcf1AzVKw4C/c+9cDooz0F7eTtoE7Q=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=Etl7cIpXjkqScNDhH9rqnaWwyn5XAhaRUqTiGnL2wUllM7vc1ZaFvqMTHfmax3CA3QSg0WLHVohCFy1JoanCQKi1jhVKadId0wnJZYyqoXmCR4BHQno/BGKuxsyis3P+/RbEbSDJx3ti/SGz8sgQ1o6ePPmCp2xrKpVdDvOsBok=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=live.com; spf=pass smtp.mailfrom=live.com; dkim=pass (2048-bit key) header.d=live.com header.i=@live.com header.b=cxe79DZI; arc=fail smtp.client-ip=52.103.68.7
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=live.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=live.com
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=hizNd5vba9r6Kd8X79DJ070syeYO9US/97Ni7ZARBk0O5lBPR7Ka8+BfoTcPIgVp5AM+vU36Paz8ieKCBZ7wR3iDdDCMRfXdQF1kzMsJiI0gQ4QnOfC9aKccv59kAEyFRKtJ10ysS+BVM23mPu6+zKMxlpf7ISLbjk6AkRYg5304id+6rIH3MT1tFjAx2YK7bVrZIRVzWAcaDT8tE+uWwEjp9WIGWAWqhnTK1r/Dl0ZiAfHbGh6I9jpTdC/6+kr2Su3HSlBUPnWhWnJ9/U00eCnsEQC4G9xbbfdvTxcf6fA89cfeTY4E1myVSqrxWKHdQ6CLJnCYO1UAVdW/wXPwbA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=nQ/DwVgFVO3Vllcf1AzVKw4C/c+9cDooz0F7eTtoE7Q=;
 b=wiH6U0lCWvpq+HqW+TF4H5orj6NuGl98lyEs7Fu0wchgNk2H4opYA0C7LGEOJuP2GJlpKNdBSYiaGY3RK0eG95gnYj6mWMcgkNkoSqWD09/uqzMYKsJySZFqbEN13fX/1tgw1yS8GeTnpAqsvd4WeOGREMw4cj6fNwIMDWnfM1ahmB64HCeo4asvYdHF0USt2yYMcKGpcgHMH/CdD0AkHE91XXCDrUI9CLOMuNl6usOm9ANFXwmKK+ITzBogByRHpssPLSBxz63O4P+exeuMDvqDN+MrkbBCuDTfvAn3OJDFtYiRfPnMZGy51VmKnp9Grzc3b7O3GdGqlgeij8c4NQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none; dmarc=none;
 dkim=none; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=live.com; s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=nQ/DwVgFVO3Vllcf1AzVKw4C/c+9cDooz0F7eTtoE7Q=;
 b=cxe79DZI9Vt+a6+PT2L4hzcPtCl5KSCyzmzr4upJD6MpZ/3xsgDQ1BIcwIqXBF38KZxwtM/HUWiXa1TlUZHAQGLQl5m4QksN9oj74OkIqqvo5F1KjuhYFwb27sCfgbTA6JnViRCcx9R9xRfaT9asg6kz4dO0t2UMOuvfDESim0zc9kzW73CgiPDnNfR7dxOijPlstsgrd4W232F5fAL0I+ta783o+kciJE5QHDEGoSZcHA80+DdmBN9nqQVaoY/h/UU0nm7v+JqFg1uejwjmIQj87lOxZd46EpjsI4F3dn5Rwi3PqAr/RTlwInDz9pZpZAKjzZ6jWe988ZyGyR3JOQ==
Received: from PN3PR01MB7728.INDPRD01.PROD.OUTLOOK.COM (2603:1096:c01:cd::12)
 by MAXPR01MB4261.INDPRD01.PROD.OUTLOOK.COM (2603:1096:a01:8::14) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8293.20; Tue, 31 Dec
 2024 17:35:04 +0000
Received: from PN3PR01MB7728.INDPRD01.PROD.OUTLOOK.COM
 ([fe80::d3b7:2498:cd95:5d06]) by PN3PR01MB7728.INDPRD01.PROD.OUTLOOK.COM
 ([fe80::d3b7:2498:cd95:5d06%4]) with mapi id 15.20.8314.012; Tue, 31 Dec 2024
 17:35:04 +0000
From: Aditya Garg <gargaditya08@live.com>
To: "jkosina@suse.cz" <jkosina@suse.cz>, Jiri Kosina <jikos@kernel.org>,
	Benjamin Tissoires <benjamin.tissoires@redhat.com>, "bentiss@kernel.org"
	<bentiss@kernel.org>
CC: Kerem Karabay <kekrby@gmail.com>, Orlando Chamberlain
	<orlandoch.dev@gmail.com>, "linux-input@vger.kernel.org"
	<linux-input@vger.kernel.org>, Linux Kernel Mailing List
	<linux-kernel@vger.kernel.org>
Subject: [PATCH v2 2/4] HID: hid-appletb-kbd: add driver for the keyboard mode
 of Apple Touch Bars
Thread-Topic: [PATCH v2 2/4] HID: hid-appletb-kbd: add driver for the keyboard
 mode of Apple Touch Bars
Thread-Index: AQHbW6pTv7SHMKd5hEW30wbjIbp+VQ==
Date: Tue, 31 Dec 2024 17:35:04 +0000
Message-ID: <E2DD2190-8164-4837-85B0-813CCCFD6999@live.com>
References: <E5CC067F-5CC8-4B33-B50C-40163C8A46E8@live.com>
In-Reply-To: <E5CC067F-5CC8-4B33-B50C-40163C8A46E8@live.com>
Accept-Language: en-IN, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: PN3PR01MB7728:EE_|MAXPR01MB4261:EE_
x-ms-office365-filtering-correlation-id: 7b9ff9ad-94c5-4dda-8e19-08dd29c1762c
x-microsoft-antispam:
 BCL:0;ARA:14566002|19110799003|15080799006|8062599003|7092599003|8060799006|461199028|440099028|3412199025|102099032;
x-microsoft-antispam-message-info:
 =?utf-8?B?Z2ROenZ4Uk5ROURoMUppU3ZkOEZMT2FnSzlVVDQxendlVUxTR0RxT2xxNzBn?=
 =?utf-8?B?WGxOUTdGNkhQdGNCVW5vRU5lRlVZejBRWTVZT0pIVUVoNUJRenhrMHlmeUI4?=
 =?utf-8?B?WXZ5UzFQRWtvREp2MW9zS2xDTUYzRmpCSHk2b2FZT0hNY0lrUHk0SUwyOE1o?=
 =?utf-8?B?dEFWUG9LMWQ2NHFaeGkxcnlEZEV6bkE3MW1CNmZyQU9JUkkvaFU2VEduV1Q4?=
 =?utf-8?B?TVE5Y1pzTkFCSFVFUHZpZlk0bjQrQ21LQ1NRb2ZzR2pzTFhjVDF4SHhiWjBO?=
 =?utf-8?B?YlFDcndKV3JwbXBKMVBseUtScEttaXJJaVFORUEvc3BHeUlDUFF0Y2c3bG5Y?=
 =?utf-8?B?d3d2aWx1Z01YUjFJdU5SNUdkOFY3TFphd1puNWRFdG16aTRyTXBQRVk1VmR1?=
 =?utf-8?B?Y2NUWUM4Y2hackpCbkVFK2VCMUxDMlJ1ZXNNODVzbjhYQTErWUR6dGxTYnBa?=
 =?utf-8?B?ZVNrWWQvUHB5bElmZXdXNDhwL0VERHdPRFFCZmNZMzVQZU1QaXdIVUFINXdy?=
 =?utf-8?B?NzRMVFErc0p3bnpjVnVUSm5DdVBpQzRlTVlvUGM0dmNVYlhlK0I2bGFWaHAv?=
 =?utf-8?B?ZkJGcXlaWFpjK1RDNDJ6eUhZanB5MGRUTEh1SDRyUmRSL3RNRWJCSkVwZldR?=
 =?utf-8?B?NFcyUmVpR2o0c3VZZzdYU1NPODV6TytSTG5rWUlNTzdKSEVxTUpsZ2lvVjJI?=
 =?utf-8?B?UkI3WDloL3NOVjlNU0VQUXFwZ25Ud3FMWWp2aWtmS3lQSVpJVHJEL3lWaHI3?=
 =?utf-8?B?N0F0bWh6dHVYTWNSS3BGaktGV2JEM2hERGZHUHJzTmc4dE01L3IzVElseDU2?=
 =?utf-8?B?aTh4cjdITkZ3c1lSQU1HdHhkeGU0UmJUWU50WVkraTJnN0RjbWs5Zjl5Y3FK?=
 =?utf-8?B?S0xGK08zVmVuVms3MlQxYW9ISGxNcENiV0I5RUIvR3dvcDArSFJXQVN2aWk1?=
 =?utf-8?B?VFUzV08vb04rWGpKeEtBNWJpZ1BjcW1ubmoveXU2SXJZRGtrT3J4NVE2SXBv?=
 =?utf-8?B?YnVTVElaSC9vUjkxSkpvV09YM3plVXRGNFhuUmxCN2tHM0JUZHJlNk5aVlQ0?=
 =?utf-8?B?U2NFbEhSZ1paNytSWXQ2RFU4UkNFZ2VIODZrTnp3VU9LYmc2WUJSUlZBa2hT?=
 =?utf-8?B?eVdlL1dFMFM1eVh4TUdjcHZzL0RjOElVNFBrak9JTXNLUmJLY3E1Rm1uOUVo?=
 =?utf-8?B?NnZ0ZzdMZjVEeWdDYkVaVEVMbzdXMytCMlg1b0trTU4zN0JBWkFtYTJ2b0FM?=
 =?utf-8?B?SHorY1RWaTM0RGJWZlZlYkhxREtMRjYrM3FhK0Q5SUg1Ni9pNURpL1pqbHVP?=
 =?utf-8?B?WjUwZzZUejJqZExXTTlZRkVIL0x3cFQyNVcyckt5a01yNnNraWVBSGVRa2JD?=
 =?utf-8?B?QUZxTHc3SVNnWEY0OFhiTnhhZEI3ZlFRZEFHQmh1V0RTa0Y2Z3Y3OXhtSGRG?=
 =?utf-8?B?K1N1OHFySk5vODk5VFNUc0dSVjlkOU5IcnpKenBRPT0=?=
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:
 =?utf-8?B?Y3k5cHVkeTJHcTlRTHZORGZKa2ZPZ0p0WUtOWXNxTGxjdGkvUWNobTZWYWdX?=
 =?utf-8?B?NDliai96RjlwNXdiSTJWRExmNVpTNTlQMlA1bW0zVkRFY1gvdXJHaXdEcTBY?=
 =?utf-8?B?OWhIdHAyZlN3MEZhYlU4UjUvdEFJQnUrdlNPREMrNkE4QnhVWEt2QXJ4TFZP?=
 =?utf-8?B?NENybFZVMk9XN2YwTlJOckZxTllETWdGSWtkODBxekwzbDUrOHdBOXFIZVJ6?=
 =?utf-8?B?U2JIODk0b045Z0ZKd2h1bFJsWEFUOER5b21WZWljMVM5N2NydUxqZDVPcVJK?=
 =?utf-8?B?b3RoQm1RZE9xWFdONUdjQUpGVkZPMFdsc3pvTXNLNE9tZkQydllDVWI2OG5v?=
 =?utf-8?B?TTk0WDlKSko2ZWd0OVZ0NWpEajhTT3pPMXR0M0ZlaHhiVVZEOTNCVURQUEZE?=
 =?utf-8?B?dWJPMTFmcEQ4VjhiQkJCUTB6K3UzbnVxbWZOV1VtV1QyNUlCcnczU1pKT1M0?=
 =?utf-8?B?YWxsdStOQ3V2c1JzWEVWWTFkY0ZoNW5FemhzbEJVOFVHdFlyU1BRRFo0VGto?=
 =?utf-8?B?UHVya0RPeVVwbDJGQ2hLVWM4RGxoNEwyaG9qMTlQZFRUbk5YeksrdTgzTDha?=
 =?utf-8?B?RVRnekUvd0ZuLzYwVldlbDNSRGpMaXVUQzBGcjRiQk51eTUzeVEzdWZFSkZE?=
 =?utf-8?B?bVJMQXR1SFhhYlpZZnNKWm9iSkR1SWJiWkJqQmJGc0ZUUHRtcUdrSXI0UENw?=
 =?utf-8?B?REhJbGJLNkxBRENjQzlqeU84eW1IUlZIc0I2SUl5TlZQMnNlaGZHR0RzVnZW?=
 =?utf-8?B?ek5hMTR5T0tGbm8xTHBJQ2VhNUhnckZ1YVdNQ2lCUmozY1pSRXhTK3RiMmpP?=
 =?utf-8?B?Q3NaTXZwNTVCdzRLNFRTMCs2YTVrbGp4YUxJQVlZeUVLTlgyNU94UmZuc0Ns?=
 =?utf-8?B?eVlWY2xVMWZXbG00MzBhd1B2WUQrb1VvTFNYcXdpNGtaQ1haaHovbkdkYVNm?=
 =?utf-8?B?d3NucEQxZDZmTkVlYWREbFJ5QlRoeVYxOGZ0ZGFZWXRKWEhRWmp5bmxjYWxJ?=
 =?utf-8?B?bWJxUVZKRS9WUEN0RUsvWGtrTUNBaEI4ck40WkRVSlczWDRsci8vRk16R2E5?=
 =?utf-8?B?TnRUbkxFcnBvd3dFQXBjL0VqNkcwME1rdC9PRTlhWVFLTzhBRU01NXpHOEQ5?=
 =?utf-8?B?WUUwUjg1TEZFalg0MVFVcjRFUEpFbHNmOU5IZW1xZ3ZVQ2JZaGNXZG96NzdE?=
 =?utf-8?B?OGEzYTMvRkNFdXhERHpOV2VvL203WkxIQTY1TFI0T29McGtzZERqc3hEeklV?=
 =?utf-8?B?dnFwVEpobHBrVlM0RjUwVVpkWHdCZ0UrSzgrWkFQMGhUZERIb25jdlhJbHVm?=
 =?utf-8?B?T1NaQVFCWkRVKzZ2TEdZbmxEVFBXSmFVUHZtcTh0cWdlQW1vSnpvbkJRVTdD?=
 =?utf-8?B?ZWJsQitkc2dwZE44YzFHZGM0K1JTSS9IMXpsd01YY3lMQVBFdUQzaHlGM0Vj?=
 =?utf-8?B?L2tBT1ZxQndRK0U1Vzg5MDNRWEVDNjBLSk5Odm1DTXg5TzNsTzdra0xXOEk4?=
 =?utf-8?B?Wm9PWWZGUUpRRHhJd2tTZmJIOVJtcFJCWXFmdmowNXg4WGNmdzZXbzBSc283?=
 =?utf-8?B?WG9jQmkxUDNTTWFkcDdlMFpNWm1LNjB1eVdUUjRFa0xrMXAvQS8rd3NwMWZY?=
 =?utf-8?B?UXZKK0p3RjFLT0xnVGdpaVVFNUpEbWJEWHB6SVZnNE5wUmtsRVREN2dTdkQ3?=
 =?utf-8?B?L2lwK0pGcHM4VzB1VmkyaGhxbXpCOVZIY3RXMmxCTDU1bEdldGo3TkFDTDFX?=
 =?utf-8?Q?kR+h6neuD6TubCg1k6rz89j+724q387OcFsXIub?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <6EDB1BBD2DB7E34FA102C2A005001234@INDPRD01.PROD.OUTLOOK.COM>
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-input@vger.kernel.org
List-Id: <linux-input.vger.kernel.org>
List-Subscribe: <mailto:linux-input+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-input+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-OriginatorOrg: sct-15-20-7719-20-msonline-outlook-ae5c4.templateTenant
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: PN3PR01MB7728.INDPRD01.PROD.OUTLOOK.COM
X-MS-Exchange-CrossTenant-RMS-PersistedConsumerOrg: 00000000-0000-0000-0000-000000000000
X-MS-Exchange-CrossTenant-Network-Message-Id: 7b9ff9ad-94c5-4dda-8e19-08dd29c1762c
X-MS-Exchange-CrossTenant-rms-persistedconsumerorg: 00000000-0000-0000-0000-000000000000
X-MS-Exchange-CrossTenant-originalarrivaltime: 31 Dec 2024 17:35:04.4053
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 84df9e7f-e9f6-40af-b435-aaaaaaaaaaaa
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MAXPR01MB4261

RnJvbTogS2VyZW0gS2FyYWJheSA8a2VrcmJ5QGdtYWlsLmNvbT4NCg0KVGhlIFRvdWNoIEJhcnMg
Zm91bmQgb24geDg2IE1hY3Mgc3VwcG9ydCB0d28gVVNCIGNvbmZpZ3VyYXRpb25zOiBvbmUNCndo
ZXJlIHRoZSBkZXZpY2UgcHJlc2VudHMgaXRzZWxmIGFzIGEgSElEIGtleWJvYXJkIGFuZCBjYW4g
ZGlzcGxheQ0KcHJlZGVmaW5lZCBzZXRzIG9mIGtleXMsIGFuZCBvbmUgd2hlcmUgdGhlIG9wZXJh
dGluZyBzeXN0ZW0gaGFzIGZ1bGwNCmNvbnRyb2wgb3ZlciB3aGF0IGlzIGRpc3BsYXllZC4gVGhp
cyBjb21taXQgYWRkcyBhIGRyaXZlciBmb3IgdGhlDQpkaXNwbGF5IGZ1bmN0aW9uYWxpdHkgb2Yg
dGhlIGZpcnN0IGNvbmZpZ3VyYXRpb24uDQoNCk5vdGUgdGhhdCBjdXJyZW50bHkgb25seSBUMiBN
YWNzIGFyZSBzdXBwb3J0ZWQuDQoNClRoaXMgZHJpdmVyIGlzIGJhc2VkIG9uIHByZXZpb3VzIHdv
cmsgZG9uZSBieSBSb25hbGQgVHNjaGFsw6RyDQo8cm9uYWxkQGlubm92YXRpb24uY2g+Lg0KDQpT
aWduZWQtb2ZmLWJ5OiBLZXJlbSBLYXJhYmF5IDxrZWtyYnlAZ21haWwuY29tPg0KQ28tZGV2ZWxv
cGVkLWJ5OiBBZGl0eWEgR2FyZyA8Z2FyZ2FkaXR5YTA4QGxpdmUuY29tPg0KU2lnbmVkLW9mZi1i
eTogQWRpdHlhIEdhcmcgPGdhcmdhZGl0eWEwOEBsaXZlLmNvbT4NCi0tLQ0KIC4uLi9BQkkvdGVz
dGluZy9zeXNmcy1kcml2ZXItaGlkLWFwcGxldGIta2JkICB8ICAxMyArDQogZHJpdmVycy9oaWQv
S2NvbmZpZyAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIDEzICsNCiBkcml2ZXJzL2hpZC9N
YWtlZmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIDEgKw0KIGRyaXZlcnMvaGlkL2hp
ZC1hcHBsZXRiLWtiZC5jICAgICAgICAgICAgICAgICB8IDMwMyArKysrKysrKysrKysrKysrKysN
CiBkcml2ZXJzL2hpZC9oaWQtcXVpcmtzLmMgICAgICAgICAgICAgICAgICAgICAgfCAgIDQgKy0N
CiA1IGZpbGVzIGNoYW5nZWQsIDMzMyBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pDQogY3Jl
YXRlIG1vZGUgMTAwNjQ0IERvY3VtZW50YXRpb24vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVyLWhp
ZC1hcHBsZXRiLWtiZA0KIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2hpZC9oaWQtYXBwbGV0
Yi1rYmQuYw0KDQpkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9BQkkvdGVzdGluZy9zeXNmcy1k
cml2ZXItaGlkLWFwcGxldGIta2JkIGIvRG9jdW1lbnRhdGlvbi9BQkkvdGVzdGluZy9zeXNmcy1k
cml2ZXItaGlkLWFwcGxldGIta2JkDQpuZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAwMDAw
MDAwLi4yYTE5NTg0ZDANCi0tLSAvZGV2L251bGwNCisrKyBiL0RvY3VtZW50YXRpb24vQUJJL3Rl
c3Rpbmcvc3lzZnMtZHJpdmVyLWhpZC1hcHBsZXRiLWtiZA0KQEAgLTAsMCArMSwxMyBAQA0KK1do
YXQ6CQkvc3lzL2J1cy9oaWQvZHJpdmVycy9oaWQtYXBwbGV0Yi1rYmQvPGRldj4vbW9kZQ0KK0Rh
dGU6CQlTZXB0ZW1iZXIsIDIwMjMNCitLZXJuZWxWZXJzaW9uOgk2LjUNCitDb250YWN0OglsaW51
eC1pbnB1dEB2Z2VyLmtlcm5lbC5vcmcNCitEZXNjcmlwdGlvbjoNCisJCVRoZSBzZXQgb2Yga2V5
cyBkaXNwbGF5ZWQgb24gdGhlIFRvdWNoIEJhci4NCisJCVZhbGlkIHZhbHVlcyBhcmU6DQorCQk9
PSA9PT09PT09PT09PT09PT09PQ0KKwkJMCAgRXNjYXBlIGtleSBvbmx5DQorCQkxICBGdW5jdGlv
biBrZXlzDQorCQkyICBNZWRpYS9icmlnaHRuZXNzIGtleXMNCisJCTMgIE5vbmUNCisJCT09ID09
PT09PT09PT09PT09PT09DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9oaWQvS2NvbmZpZyBiL2RyaXZl
cnMvaGlkL0tjb25maWcNCmluZGV4IGY2Njc4ZGIyNy4uNWIxNmJmYWRjIDEwMDY0NA0KLS0tIGEv
ZHJpdmVycy9oaWQvS2NvbmZpZw0KKysrIGIvZHJpdmVycy9oaWQvS2NvbmZpZw0KQEAgLTE1OCw2
ICsxNTgsMTkgQEAgY29uZmlnIEhJRF9BUFBMRVRCX0JMDQogCSAgVG8gY29tcGlsZSB0aGlzIGRy
aXZlciBhcyBhIG1vZHVsZSwgY2hvb3NlIE0gaGVyZTogdGhlDQogCSAgbW9kdWxlIHdpbGwgYmUg
Y2FsbGVkIGhpZC1hcHBsZXRiLWJsLg0KIA0KK2NvbmZpZyBISURfQVBQTEVUQl9LQkQNCisJdHJp
c3RhdGUgIkFwcGxlIFRvdWNoIEJhciBLZXlib2FyZCBNb2RlIg0KKwlkZXBlbmRzIG9uIFVTQl9I
SUQNCisJZGVwZW5kcyBvbiBJTlBVVA0KKwlzZWxlY3QgSU5QVVRfU1BBUlNFS01BUA0KKwloZWxw
DQorCSAgU2F5IFkgaGVyZSBpZiB5b3Ugd2FudCBzdXBwb3J0IGZvciB0aGUga2V5Ym9hcmQgbW9k
ZSAoZXNjYXBlLA0KKwkgIGZ1bmN0aW9uLCBtZWRpYSBhbmQgYnJpZ2h0bmVzcyBrZXlzKSBvZiBU
b3VjaCBCYXJzIG9uIHg4NiBNYWNCb29rDQorCSAgUHJvcy4NCisNCisJICBUbyBjb21waWxlIHRo
aXMgZHJpdmVyIGFzIGEgbW9kdWxlLCBjaG9vc2UgTSBoZXJlOiB0aGUNCisJICBtb2R1bGUgd2ls
bCBiZSBjYWxsZWQgaGlkLWFwcGxldGIta2JkLg0KKw0KIGNvbmZpZyBISURfQVNVUw0KIAl0cmlz
dGF0ZSAiQXN1cyINCiAJZGVwZW5kcyBvbiBVU0JfSElEDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9o
aWQvTWFrZWZpbGUgYi9kcml2ZXJzL2hpZC9NYWtlZmlsZQ0KaW5kZXggNDQ0ZDI0Y2VjLi4xOTg5
Mjg4ZTAgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2hpZC9NYWtlZmlsZQ0KKysrIGIvZHJpdmVycy9o
aWQvTWFrZWZpbGUNCkBAIC0zMCw2ICszMCw3IEBAIG9iai0kKENPTkZJR19ISURfQUNSVVgpCQkr
PSBoaWQtYXhmZi5vDQogb2JqLSQoQ09ORklHX0hJRF9BUFBMRSkJCSs9IGhpZC1hcHBsZS5vDQog
b2JqLSQoQ09ORklHX0hJRF9BUFBMRUlSKQkrPSBoaWQtYXBwbGVpci5vDQogb2JqLSQoQ09ORklH
X0hJRF9BUFBMRVRCX0JMKQkrPSBoaWQtYXBwbGV0Yi1ibC5vDQorb2JqLSQoQ09ORklHX0hJRF9B
UFBMRVRCX0tCRCkJKz0gaGlkLWFwcGxldGIta2JkLm8NCiBvYmotJChDT05GSUdfSElEX0NSRUFU
SVZFX1NCMDU0MCkJKz0gaGlkLWNyZWF0aXZlLXNiMDU0MC5vDQogb2JqLSQoQ09ORklHX0hJRF9B
U1VTKQkJKz0gaGlkLWFzdXMubw0KIG9iai0kKENPTkZJR19ISURfQVVSRUFMKQkrPSBoaWQtYXVy
ZWFsLm8NCmRpZmYgLS1naXQgYS9kcml2ZXJzL2hpZC9oaWQtYXBwbGV0Yi1rYmQuYyBiL2RyaXZl
cnMvaGlkL2hpZC1hcHBsZXRiLWtiZC5jDQpuZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAw
MDAwMDAwLi44MGM4NzM5NmYNCi0tLSAvZGV2L251bGwNCisrKyBiL2RyaXZlcnMvaGlkL2hpZC1h
cHBsZXRiLWtiZC5jDQpAQCAtMCwwICsxLDMwMyBAQA0KKy8vIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBHUEwtMi4wDQorLyoNCisgKiBBcHBsZSBUb3VjaCBCYXIgS2V5Ym9hcmQgTW9kZSBEcml2
ZXINCisgKg0KKyAqIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFJvbmFsZCBUc2NoYWzDpHINCisg
KiBDb3B5cmlnaHQgKGMpIDIwMjItMjAyMyBLZXJlbSBLYXJhYmF5IDxrZWtyYnlAZ21haWwuY29t
Pg0KKyAqIENvcHlyaWdodCAoYykgMjAyNCBBZGl0eWEgR2FyZyA8Z2FyZ2FkaXR5YTA4QGxpdmUu
Y29tPg0KKyAqLw0KKw0KKyNkZWZpbmUgcHJfZm10KGZtdCkgS0JVSUxEX01PRE5BTUUgIjogIiBm
bXQNCisNCisjaW5jbHVkZSA8bGludXgvaGlkLmg+DQorI2luY2x1ZGUgPGxpbnV4L3VzYi5oPg0K
KyNpbmNsdWRlIDxsaW51eC9pbnB1dC5oPg0KKyNpbmNsdWRlIDxsaW51eC9zeXNmcy5oPg0KKyNp
bmNsdWRlIDxsaW51eC9iaXRvcHMuaD4NCisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+DQorI2lu
Y2x1ZGUgPGxpbnV4L3N0cmluZy5oPg0KKyNpbmNsdWRlIDxsaW51eC9pbnB1dC9zcGFyc2Uta2V5
bWFwLmg+DQorDQorI2luY2x1ZGUgImhpZC1pZHMuaCINCisNCisjZGVmaW5lIEFQUExFVEJfS0JE
X01PREVfRVNDCTANCisjZGVmaW5lIEFQUExFVEJfS0JEX01PREVfRk4JMQ0KKyNkZWZpbmUgQVBQ
TEVUQl9LQkRfTU9ERV9TUENMCTINCisjZGVmaW5lIEFQUExFVEJfS0JEX01PREVfT0ZGCTMNCisj
ZGVmaW5lIEFQUExFVEJfS0JEX01PREVfTUFYCUFQUExFVEJfS0JEX01PREVfT0ZGDQorDQorI2Rl
ZmluZSBISURfVVNBR0VfTU9ERQkJMHgwMGZmMDAwNA0KKw0KK3N0YXRpYyBpbnQgYXBwbGV0Yl90
Yl9kZWZfbW9kZSA9IEFQUExFVEJfS0JEX01PREVfU1BDTDsNCittb2R1bGVfcGFyYW1fbmFtZWQo
bW9kZSwgYXBwbGV0Yl90Yl9kZWZfbW9kZSwgaW50LCAwNDQ0KTsNCitNT0RVTEVfUEFSTV9ERVND
KG1vZGUsICJEZWZhdWx0IHRvdWNoYmFyIG1vZGU6XG4iDQorCQkJICIgICAgMCAtIGVzY2FwZSBr
ZXkgb25seVxuIg0KKwkJCSAiICAgIDEgLSBmdW5jdGlvbi1rZXlzXG4iDQorCQkJICIgICAgWzJd
IC0gc3BlY2lhbCBrZXlzIik7DQorDQorc3RydWN0IGFwcGxldGJfa2JkIHsNCisJc3RydWN0IGhp
ZF9maWVsZCAqbW9kZV9maWVsZDsNCisNCisJdTggc2F2ZWRfbW9kZTsNCisJdTggY3VycmVudF9t
b2RlOw0KK307DQorDQorc3RhdGljIGNvbnN0IHN0cnVjdCBrZXlfZW50cnkgYXBwbGV0Yl9rYmRf
a2V5bWFwW10gPSB7DQorCXsgS0VfS0VZLCBLRVlfRVNDLCB7IEtFWV9FU0MgfSB9LA0KKwl7IEtF
X0tFWSwgS0VZX0YxLCAgeyBLRVlfQlJJR0hUTkVTU0RPV04gfSB9LA0KKwl7IEtFX0tFWSwgS0VZ
X0YyLCAgeyBLRVlfQlJJR0hUTkVTU1VQIH0gfSwNCisJeyBLRV9LRVksIEtFWV9GMywgIHsgS0VZ
X1JFU0VSVkVEIH0gfSwNCisJeyBLRV9LRVksIEtFWV9GNCwgIHsgS0VZX1JFU0VSVkVEIH0gfSwN
CisJeyBLRV9LRVksIEtFWV9GNSwgIHsgS0VZX0tCRElMTFVNRE9XTiB9IH0sDQorCXsgS0VfS0VZ
LCBLRVlfRjYsICB7IEtFWV9LQkRJTExVTVVQIH0gfSwNCisJeyBLRV9LRVksIEtFWV9GNywgIHsg
S0VZX1BSRVZJT1VTU09ORyB9IH0sDQorCXsgS0VfS0VZLCBLRVlfRjgsICB7IEtFWV9QTEFZUEFV
U0UgfSB9LA0KKwl7IEtFX0tFWSwgS0VZX0Y5LCAgeyBLRVlfTkVYVFNPTkcgfSB9LA0KKwl7IEtF
X0tFWSwgS0VZX0YxMCwgeyBLRVlfTVVURSB9IH0sDQorCXsgS0VfS0VZLCBLRVlfRjExLCB7IEtF
WV9WT0xVTUVET1dOIH0gfSwNCisJeyBLRV9LRVksIEtFWV9GMTIsIHsgS0VZX1ZPTFVNRVVQIH0g
fSwNCisJeyBLRV9FTkQsIDAgfQ0KK307DQorDQorc3RhdGljIGludCBhcHBsZXRiX2tiZF9zZXRf
bW9kZShzdHJ1Y3QgYXBwbGV0Yl9rYmQgKmtiZCwgdTggbW9kZSkNCit7DQorCXN0cnVjdCBoaWRf
cmVwb3J0ICpyZXBvcnQgPSBrYmQtPm1vZGVfZmllbGQtPnJlcG9ydDsNCisJc3RydWN0IGhpZF9k
ZXZpY2UgKmhkZXYgPSByZXBvcnQtPmRldmljZTsNCisJaW50IHJldDsNCisNCisJcmV0ID0gaGlk
X2h3X3Bvd2VyKGhkZXYsIFBNX0hJTlRfRlVMTE9OKTsNCisJaWYgKHJldCkgew0KKwkJaGlkX2Vy
cihoZGV2LCAiRGV2aWNlIGRpZG4ndCByZXN1bWUgKCVwZSlcbiIsIEVSUl9QVFIocmV0KSk7DQor
CQlyZXR1cm4gcmV0Ow0KKwl9DQorDQorCXJldCA9IGhpZF9zZXRfZmllbGQoa2JkLT5tb2RlX2Zp
ZWxkLCAwLCBtb2RlKTsNCisJaWYgKHJldCkgew0KKwkJaGlkX2VycihoZGV2LCAiRmFpbGVkIHRv
IHNldCBtb2RlIGZpZWxkIHRvICV1ICglcGUpXG4iLCBtb2RlLCBFUlJfUFRSKHJldCkpOw0KKwkJ
Z290byBwb3dlcl9ub3JtYWw7DQorCX0NCisNCisJaGlkX2h3X3JlcXVlc3QoaGRldiwgcmVwb3J0
LCBISURfUkVRX1NFVF9SRVBPUlQpOw0KKw0KKwlrYmQtPmN1cnJlbnRfbW9kZSA9IG1vZGU7DQor
DQorcG93ZXJfbm9ybWFsOg0KKwloaWRfaHdfcG93ZXIoaGRldiwgUE1fSElOVF9OT1JNQUwpOw0K
Kw0KKwlyZXR1cm4gcmV0Ow0KK30NCisNCitzdGF0aWMgc3NpemVfdCBtb2RlX3Nob3coc3RydWN0
IGRldmljZSAqZGV2LA0KKwkJCSBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0ciwgY2hhciAq
YnVmKQ0KK3sNCisJc3RydWN0IGFwcGxldGJfa2JkICprYmQgPSBkZXZfZ2V0X2RydmRhdGEoZGV2
KTsNCisNCisJcmV0dXJuIHN5c2ZzX2VtaXQoYnVmLCAiJWRcbiIsIGtiZC0+Y3VycmVudF9tb2Rl
KTsNCit9DQorDQorc3RhdGljIHNzaXplX3QgbW9kZV9zdG9yZShzdHJ1Y3QgZGV2aWNlICpkZXYs
DQorCQkJICBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0ciwNCisJCQkgIGNvbnN0IGNoYXIg
KmJ1Ziwgc2l6ZV90IHNpemUpDQorew0KKwlzdHJ1Y3QgYXBwbGV0Yl9rYmQgKmtiZCA9IGRldl9n
ZXRfZHJ2ZGF0YShkZXYpOw0KKwl1OCBtb2RlOw0KKwlpbnQgcmV0Ow0KKw0KKwlyZXQgPSBrc3Ry
dG91OChidWYsIDAsICZtb2RlKTsNCisJaWYgKHJldCkNCisJCXJldHVybiByZXQ7DQorDQorCWlm
IChtb2RlID4gQVBQTEVUQl9LQkRfTU9ERV9NQVgpDQorCQlyZXR1cm4gLUVJTlZBTDsNCisNCisJ
cmV0ID0gYXBwbGV0Yl9rYmRfc2V0X21vZGUoa2JkLCBtb2RlKTsNCisNCisJcmV0dXJuIHJldCA8
IDAgPyByZXQgOiBzaXplOw0KK30NCitzdGF0aWMgREVWSUNFX0FUVFJfUlcobW9kZSk7DQorDQor
c3RydWN0IGF0dHJpYnV0ZSAqYXBwbGV0Yl9rYmRfYXR0cnNbXSA9IHsNCisJJmRldl9hdHRyX21v
ZGUuYXR0ciwNCisJTlVMTA0KK307DQorQVRUUklCVVRFX0dST1VQUyhhcHBsZXRiX2tiZCk7DQor
DQorc3RhdGljIGludCBhcHBsZXRiX3RiX2tleV90b19zbG90KHVuc2lnbmVkIGludCBjb2RlKQ0K
K3sNCisJc3dpdGNoIChjb2RlKSB7DQorCWNhc2UgS0VZX0VTQzoNCisJCXJldHVybiAwOw0KKwlj
YXNlIEtFWV9GMSAuLi4gS0VZX0YxMDoNCisJCXJldHVybiBjb2RlIC0gS0VZX0YxICsgMTsNCisJ
Y2FzZSBLRVlfRjExIC4uLiBLRVlfRjEyOg0KKwkJcmV0dXJuIGNvZGUgLSBLRVlfRjExICsgMTE7
DQorDQorCWRlZmF1bHQ6DQorCQlyZXR1cm4gLUVJTlZBTDsNCisJfQ0KK30NCisNCitzdGF0aWMg
aW50IGFwcGxldGJfa2JkX2hpZF9ldmVudChzdHJ1Y3QgaGlkX2RldmljZSAqaGRldiwgc3RydWN0
IGhpZF9maWVsZCAqZmllbGQsDQorCQkJCSAgICAgIHN0cnVjdCBoaWRfdXNhZ2UgKnVzYWdlLCBf
X3MzMiB2YWx1ZSkNCit7DQorCXN0cnVjdCBhcHBsZXRiX2tiZCAqa2JkID0gaGlkX2dldF9kcnZk
YXRhKGhkZXYpOw0KKwlzdHJ1Y3Qga2V5X2VudHJ5ICp0cmFuc2xhdGlvbjsNCisJc3RydWN0IGlu
cHV0X2RldiAqaW5wdXQ7DQorCWludCBzbG90Ow0KKw0KKwlpZiAoKHVzYWdlLT5oaWQgJiBISURf
VVNBR0VfUEFHRSkgIT0gSElEX1VQX0tFWUJPQVJEIHx8IHVzYWdlLT50eXBlICE9IEVWX0tFWSkN
CisJCXJldHVybiAwOw0KKw0KKwlpbnB1dCA9IGZpZWxkLT5oaWRpbnB1dC0+aW5wdXQ7DQorDQor
CS8qDQorCSAqIFNraXAgbm9uLXRvdWNoLWJhciBrZXlzLg0KKwkgKg0KKwkgKiBFaXRoZXIgdGhl
IHRvdWNoIGJhciBpdHNlbGYgb3IgdXNiaGlkIGdlbmVyYXRlIGEgc2xldyBvZiBrZXktZG93bg0K
KwkgKiBldmVudHMgZm9yIGFsbCB0aGUgbWV0YSBrZXlzLiBOb25lIG9mIHdoaWNoIHdlJ3JlIGF0
IGFsbCBpbnRlcmVzdGVkDQorCSAqIGluLg0KKwkgKi8NCisJc2xvdCA9IGFwcGxldGJfdGJfa2V5
X3RvX3Nsb3QodXNhZ2UtPmNvZGUpOw0KKwlpZiAoc2xvdCA8IDApDQorCQlyZXR1cm4gMDsNCisN
CisJdHJhbnNsYXRpb24gPSBzcGFyc2Vfa2V5bWFwX2VudHJ5X2Zyb21fc2NhbmNvZGUoaW5wdXQs
IHVzYWdlLT5jb2RlKTsNCisNCisJaWYgKHRyYW5zbGF0aW9uICYmIGtiZC0+Y3VycmVudF9tb2Rl
ID09IEFQUExFVEJfS0JEX01PREVfU1BDTCkgew0KKwkJaW5wdXRfZXZlbnQoaW5wdXQsIHVzYWdl
LT50eXBlLCB0cmFuc2xhdGlvbi0+a2V5Y29kZSwgdmFsdWUpOw0KKw0KKwkJcmV0dXJuIDE7DQor
CX0NCisNCisJcmV0dXJuIGtiZC0+Y3VycmVudF9tb2RlID09IEFQUExFVEJfS0JEX01PREVfT0ZG
Ow0KK30NCisNCitzdGF0aWMgaW50IGFwcGxldGJfa2JkX2lucHV0X2NvbmZpZ3VyZWQoc3RydWN0
IGhpZF9kZXZpY2UgKmhkZXYsIHN0cnVjdCBoaWRfaW5wdXQgKmhpZGlucHV0KQ0KK3sNCisJaW50
IGlkeDsNCisJc3RydWN0IGlucHV0X2RldiAqaW5wdXQgPSBoaWRpbnB1dC0+aW5wdXQ7DQorDQor
CS8qDQorCSAqIENsZWFyIHZhcmlvdXMgaW5wdXQgY2FwYWJpbGl0aWVzIHRoYXQgYXJlIGJsaW5k
bHkgc2V0IGJ5IHRoZSBoaWQNCisJICogZHJpdmVyICh1c2JrYmQuYykNCisJICovDQorCW1lbXNl
dChpbnB1dC0+ZXZiaXQsIDAsIHNpemVvZihpbnB1dC0+ZXZiaXQpKTsNCisJbWVtc2V0KGlucHV0
LT5rZXliaXQsIDAsIHNpemVvZihpbnB1dC0+a2V5Yml0KSk7DQorCW1lbXNldChpbnB1dC0+bGVk
Yml0LCAwLCBzaXplb2YoaW5wdXQtPmxlZGJpdCkpOw0KKw0KKwlfX3NldF9iaXQoRVZfUkVQLCBp
bnB1dC0+ZXZiaXQpOw0KKw0KKwlzcGFyc2Vfa2V5bWFwX3NldHVwKGlucHV0LCBhcHBsZXRiX2ti
ZF9rZXltYXAsIE5VTEwpOw0KKw0KKwlmb3IgKGlkeCA9IDA7IGFwcGxldGJfa2JkX2tleW1hcFtp
ZHhdLnR5cGUgIT0gS0VfRU5EOyBpZHgrKykNCisJCWlucHV0X3NldF9jYXBhYmlsaXR5KGlucHV0
LCBFVl9LRVksIGFwcGxldGJfa2JkX2tleW1hcFtpZHhdLmNvZGUpOw0KKw0KKwlyZXR1cm4gMDsN
Cit9DQorDQorc3RhdGljIGludCBhcHBsZXRiX2tiZF9wcm9iZShzdHJ1Y3QgaGlkX2RldmljZSAq
aGRldiwgY29uc3Qgc3RydWN0IGhpZF9kZXZpY2VfaWQgKmlkKQ0KK3sNCisJc3RydWN0IGFwcGxl
dGJfa2JkICprYmQ7DQorCXN0cnVjdCBkZXZpY2UgKmRldiA9ICZoZGV2LT5kZXY7DQorCXN0cnVj
dCBoaWRfZmllbGQgKm1vZGVfZmllbGQ7DQorCWludCByZXQ7DQorDQorCXJldCA9IGhpZF9wYXJz
ZShoZGV2KTsNCisJaWYgKHJldCkNCisJCXJldHVybiBkZXZfZXJyX3Byb2JlKGRldiwgcmV0LCAi
SElEIHBhcnNlIGZhaWxlZFxuIik7DQorDQorCW1vZGVfZmllbGQgPSBoaWRfZmluZF9maWVsZCho
ZGV2LCBISURfT1VUUFVUX1JFUE9SVCwNCisJCQkJICAgIEhJRF9HRF9LRVlCT0FSRCwgSElEX1VT
QUdFX01PREUpOw0KKwlpZiAoIW1vZGVfZmllbGQpDQorCQlyZXR1cm4gLUVOT0RFVjsNCisNCisJ
a2JkID0gZGV2bV9remFsbG9jKGRldiwgc2l6ZW9mKCprYmQpLCBHRlBfS0VSTkVMKTsNCisJaWYg
KCFrYmQpDQorCQlyZXR1cm4gLUVOT01FTTsNCisNCisJa2JkLT5tb2RlX2ZpZWxkID0gbW9kZV9m
aWVsZDsNCisNCisJcmV0ID0gaGlkX2h3X3N0YXJ0KGhkZXYsIEhJRF9DT05ORUNUX0hJRElOUFVU
KTsNCisJaWYgKHJldCkNCisJCXJldHVybiBkZXZfZXJyX3Byb2JlKGRldiwgcmV0LCAiSElEIGh3
IHN0YXJ0IGZhaWxlZFxuIik7DQorDQorCXJldCA9IGhpZF9od19vcGVuKGhkZXYpOw0KKwlpZiAo
cmV0KSB7DQorCQlkZXZfZXJyX3Byb2JlKGRldiwgcmV0LCAiSElEIGh3IG9wZW4gZmFpbGVkXG4i
KTsNCisJCWdvdG8gc3RvcF9odzsNCisJfQ0KKw0KKwlyZXQgPSBhcHBsZXRiX2tiZF9zZXRfbW9k
ZShrYmQsIGFwcGxldGJfdGJfZGVmX21vZGUpOw0KKwlpZiAocmV0KSB7DQorCQlkZXZfZXJyX3By
b2JlKGRldiwgcmV0LCAiRmFpbGVkIHRvIHNldCB0b3VjaGJhciBtb2RlXG4iKTsNCisJCWdvdG8g
Y2xvc2VfaHc7DQorCX0NCisNCisJaGlkX3NldF9kcnZkYXRhKGhkZXYsIGtiZCk7DQorDQorCXJl
dHVybiAwOw0KKw0KK2Nsb3NlX2h3Og0KKwloaWRfaHdfY2xvc2UoaGRldik7DQorc3RvcF9odzoN
CisJaGlkX2h3X3N0b3AoaGRldik7DQorCXJldHVybiByZXQ7DQorfQ0KKw0KK3N0YXRpYyB2b2lk
IGFwcGxldGJfa2JkX3JlbW92ZShzdHJ1Y3QgaGlkX2RldmljZSAqaGRldikNCit7DQorCXN0cnVj
dCBhcHBsZXRiX2tiZCAqa2JkID0gaGlkX2dldF9kcnZkYXRhKGhkZXYpOw0KKw0KKwlhcHBsZXRi
X2tiZF9zZXRfbW9kZShrYmQsIEFQUExFVEJfS0JEX01PREVfT0ZGKTsNCisNCisJaGlkX2h3X2Ns
b3NlKGhkZXYpOw0KKwloaWRfaHdfc3RvcChoZGV2KTsNCit9DQorDQorI2lmZGVmIENPTkZJR19Q
TQ0KK3N0YXRpYyBpbnQgYXBwbGV0Yl9rYmRfc3VzcGVuZChzdHJ1Y3QgaGlkX2RldmljZSAqaGRl
diwgcG1fbWVzc2FnZV90IG1zZykNCit7DQorCXN0cnVjdCBhcHBsZXRiX2tiZCAqa2JkID0gaGlk
X2dldF9kcnZkYXRhKGhkZXYpOw0KKw0KKwlrYmQtPnNhdmVkX21vZGUgPSBrYmQtPmN1cnJlbnRf
bW9kZTsNCisJYXBwbGV0Yl9rYmRfc2V0X21vZGUoa2JkLCBBUFBMRVRCX0tCRF9NT0RFX09GRik7
DQorDQorCXJldHVybiAwOw0KK30NCisNCitzdGF0aWMgaW50IGFwcGxldGJfa2JkX3Jlc2V0X3Jl
c3VtZShzdHJ1Y3QgaGlkX2RldmljZSAqaGRldikNCit7DQorCXN0cnVjdCBhcHBsZXRiX2tiZCAq
a2JkID0gaGlkX2dldF9kcnZkYXRhKGhkZXYpOw0KKw0KKwlhcHBsZXRiX2tiZF9zZXRfbW9kZShr
YmQsIGtiZC0+c2F2ZWRfbW9kZSk7DQorDQorCXJldHVybiAwOw0KK30NCisjZW5kaWYNCisNCitz
dGF0aWMgY29uc3Qgc3RydWN0IGhpZF9kZXZpY2VfaWQgYXBwbGV0Yl9rYmRfaGlkX2lkc1tdID0g
ew0KKwkvKiBNYWNCb29rIFBybydzIDIwMTgsIDIwMTksIHdpdGggVDIgY2hpcDogaUJyaWRnZSBE
aXNwbGF5ICovDQorCXsgSElEX1VTQl9ERVZJQ0UoVVNCX1ZFTkRPUl9JRF9BUFBMRSwgVVNCX0RF
VklDRV9JRF9BUFBMRV9UT1VDSEJBUl9ESVNQTEFZKSB9LA0KKwl7IH0NCit9Ow0KK01PRFVMRV9E
RVZJQ0VfVEFCTEUoaGlkLCBhcHBsZXRiX2tiZF9oaWRfaWRzKTsNCisNCitzdGF0aWMgc3RydWN0
IGhpZF9kcml2ZXIgYXBwbGV0Yl9rYmRfaGlkX2RyaXZlciA9IHsNCisJLm5hbWUgPSAiaGlkLWFw
cGxldGIta2JkIiwNCisJLmlkX3RhYmxlID0gYXBwbGV0Yl9rYmRfaGlkX2lkcywNCisJLnByb2Jl
ID0gYXBwbGV0Yl9rYmRfcHJvYmUsDQorCS5yZW1vdmUgPSBhcHBsZXRiX2tiZF9yZW1vdmUsDQor
CS5ldmVudCA9IGFwcGxldGJfa2JkX2hpZF9ldmVudCwNCisJLmlucHV0X2NvbmZpZ3VyZWQgPSBh
cHBsZXRiX2tiZF9pbnB1dF9jb25maWd1cmVkLA0KKyNpZmRlZiBDT05GSUdfUE0NCisJLnN1c3Bl
bmQgPSBhcHBsZXRiX2tiZF9zdXNwZW5kLA0KKwkucmVzZXRfcmVzdW1lID0gYXBwbGV0Yl9rYmRf
cmVzZXRfcmVzdW1lLA0KKyNlbmRpZg0KKwkuZHJpdmVyLmRldl9ncm91cHMgPSBhcHBsZXRiX2ti
ZF9ncm91cHMsDQorfTsNCittb2R1bGVfaGlkX2RyaXZlcihhcHBsZXRiX2tiZF9oaWRfZHJpdmVy
KTsNCisNCitNT0RVTEVfQVVUSE9SKCJSb25hbGQgVHNjaGFsw6RyIik7DQorTU9EVUxFX0FVVEhP
UigiS2VyZW0gS2FyYWJheSA8a2VrcmJ5QGdtYWlsLmNvbT4iKTsNCitNT0RVTEVfREVTQ1JJUFRJ
T04oIk1hY0Jvb2tQcm8gVG91Y2ggQmFyIEtleWJvYXJkIE1vZGUgRHJpdmVyIik7DQorTU9EVUxF
X0xJQ0VOU0UoIkdQTCIpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvaGlkL2hpZC1xdWlya3MuYyBi
L2RyaXZlcnMvaGlkL2hpZC1xdWlya3MuYw0KaW5kZXggODE4ZDQxYTM1Li43YzU3NmQ2NTQgMTAw
NjQ0DQotLS0gYS9kcml2ZXJzL2hpZC9oaWQtcXVpcmtzLmMNCisrKyBiL2RyaXZlcnMvaGlkL2hp
ZC1xdWlya3MuYw0KQEAgLTMyOCw3ICszMjgsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGhpZF9k
ZXZpY2VfaWQgaGlkX2hhdmVfc3BlY2lhbF9kcml2ZXJbXSA9IHsNCiAJeyBISURfVVNCX0RFVklD
RShVU0JfVkVORE9SX0lEX0FQUExFLCBVU0JfREVWSUNFX0lEX0FQUExFX0dFWVNFUjFfVFBfT05M
WSkgfSwNCiAJeyBISURfVVNCX0RFVklDRShVU0JfVkVORE9SX0lEX0FQUExFLCBVU0JfREVWSUNF
X0lEX0FQUExFX01BR0lDX0tFWUJPQVJEXzIwMjEpIH0sDQogCXsgSElEX1VTQl9ERVZJQ0UoVVNC
X1ZFTkRPUl9JRF9BUFBMRSwgVVNCX0RFVklDRV9JRF9BUFBMRV9NQUdJQ19LRVlCT0FSRF9GSU5H
RVJQUklOVF8yMDIxKSB9LA0KLQl7IEhJRF9VU0JfREVWSUNFKFVTQl9WRU5ET1JfSURfQVBQTEUs
IFVTQl9ERVZJQ0VfSURfQVBQTEVfVE9VQ0hCQVJfRElTUExBWSkgfSwNCiAjZW5kaWYNCiAjaWYg
SVNfRU5BQkxFRChDT05GSUdfSElEX0FQUExFSVIpDQogCXsgSElEX1VTQl9ERVZJQ0UoVVNCX1ZF
TkRPUl9JRF9BUFBMRSwgVVNCX0RFVklDRV9JRF9BUFBMRV9JUkNPTlRST0wpIH0sDQpAQCAtMzQw
LDYgKzMzOSw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaGlkX2RldmljZV9pZCBoaWRfaGF2ZV9z
cGVjaWFsX2RyaXZlcltdID0gew0KICNpZiBJU19FTkFCTEVEKENPTkZJR19ISURfQVBQTEVUQl9C
TCkNCiAJeyBISURfVVNCX0RFVklDRShVU0JfVkVORE9SX0lEX0FQUExFLCBVU0JfREVWSUNFX0lE
X0FQUExFX1RPVUNIQkFSX0JBQ0tMSUdIVCkgfSwNCiAjZW5kaWYNCisjaWYgSVNfRU5BQkxFRChD
T05GSUdfSElEX0FQUExFVEJfS0JEKQ0KKwl7IEhJRF9VU0JfREVWSUNFKFVTQl9WRU5ET1JfSURf
QVBQTEUsIFVTQl9ERVZJQ0VfSURfQVBQTEVfVE9VQ0hCQVJfRElTUExBWSkgfSwNCisjZW5kaWYN
CiAjaWYgSVNfRU5BQkxFRChDT05GSUdfSElEX0FTVVMpDQogCXsgSElEX0kyQ19ERVZJQ0UoVVNC
X1ZFTkRPUl9JRF9BU1VTVEVLLCBVU0JfREVWSUNFX0lEX0FTVVNURUtfSTJDX0tFWUJPQVJEKSB9
LA0KIAl7IEhJRF9JMkNfREVWSUNFKFVTQl9WRU5ET1JfSURfQVNVU1RFSywgVVNCX0RFVklDRV9J
RF9BU1VTVEVLX0kyQ19UT1VDSFBBRCkgfSwNCi0tIA0KMi40My4wDQoNCg==

